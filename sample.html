<!DOCTYPE html>
<html>

<head>
	<title>HTML Form Value Retrieval</title>
	
	<script type="text/javascript">
	
	function change_status_form(){		
		var stuSelect = document.getElementById("student_status");
		var stuStt = stuSelect.options[stuSelect.selectedIndex].value;
		var undForm = document.getElementById("undergradform");
		var grdForm = document.getElementById("gradform");
		var resultP = document.getElementById("result");
		var passDiv = document.getElementById("pass");
		var rejectDiv = document.getElementById("reject");
		if (stuStt == "undergrad") {
			undForm.style.display = "block";
			grdForm.style.display = "none";
		}
		else {
			undForm.style.display = "none";
			grdForm.style.display = "block";
		}
		resultP.style.display = "none";
		passDiv.style.display = "none";
		rejectDiv.style.display = "none";
	}
	
	function evaluate_gpa(){
		var stuSelect = document.getElementById("student_status");
		var stuStt = stuSelect.options[stuSelect.selectedIndex].value;
		var undForm = document.getElementById("undergradform");
		var grdForm = document.getElementById("gradform");
		var resultP = document.getElementById("result");
		if (stuStt == "undergrad") {
			var undForm = document.getElementById("undergradform");
			var listItems = undForm.getElementsByTagName("select");
			var thres = 3.2;
		}
		else {
			var undForm = document.getElementById("gradform");
			var listItems = undForm.getElementsByTagName("select");
			var thres = 3.7;
		}

		var avg = 0;
		
		for (i=0;i<listItems.length;i++)
		{
			avg += Number(listItems[i].value);
		}
		avg = avg / 4.;
		var avgP = document.getElementById("result");
		avgP.innerHTML = "Your average GPA is " + avg;
		
		var pass = document.getElementById("pass");
		var reject = document.getElementById("reject");
		
		if (avg >= thres) {
			resultP.style.display = "block";
			pass.style.display = "block";
			reject.style.display = "none";
		}
		else {
			resultP.style.display = "block";
			reject.style.display = "block";
			pass.style.display = "none";
		}	
	}
	</script>
</head>

<body>
<h3> Hello </h3>

<form id="studentform">
	<p> Please select your student status </p>
	<select id="student_status" onchange="change_status_form()">
	  <option value="undergrad">Undergraduate</option>
	  <option value="grad">Graduate</option>
	</select>
	
	<div id="undergradform">
		<p> IT 3123 </p>
		<select id="cse3203">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 4213 </p>
		<select id="it4213">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 4323 </p>
		<select id="it4323">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 4153 </p>
		<select id="it4153">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
	</div>
	
	<div id="gradform" style="display: none">
		<p> IT 5413 </p>
		<select id="cse6123">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 5433 </p>
		<select id="it5332">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 6773 </p>
		<select id="it6871">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
		<p> IT 7113 </p>
		<select id="it5691">
		  <option value="4">A</option>
		  <option value="3">B</option>
		  <option value="2">C</option>
		  <option value="1">D</option>
		  <option value="0">F</option>
		</select>
		
	</div>
	
	<input type="button" value="Evaluate" onclick="evaluate_gpa()" />

</form>
<p id="result"><p>
<div id="pass" style="display: none"> Congratulation, please click <a href="#">here</a> to continue</div>
<div id="reject" style="display: none"> Sorry, please try again when your grade is better </div>
</body>